<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Kalie Martin Voice Studio - Current Students</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="img/favicon.ico">
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

  <link href="css/style.css" rel="stylesheet">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- script to customize reCAPTCHA -->
  <script type="text/javascript">
  var RecaptchaOptions = {
    theme : 'clean'
  };
  </script>
  <link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
</head>

<body>
<div class="container">
  <div class="row clearfix">
    <div class="col-md-12 column">
      <div class="page-header">
        <h1>
          <a href="index.html">Kalie Martin</a> <small>Voice Studio</small>
        </h1>
      </div>
      <nav class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-header">
           <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button> <a class="navbar-brand" href="index.html">Excellence in Singing</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li>
              <a href="about.html">About Me</a>
            </li>
            <li>
              <a href="recordings.html">Recordings &amp; Events</a>
            </li>
            <li>
              <a href="study-with-me.html">Prospective Students</a>
            </li>
            <li class="active">
              <a href="current-students.html">Current Students</a>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
          </ul>
        </div>
      </nav>
      <div class="row clearfix">
        <div class="col-md-10 col-md-offset-1 column">
          <div>
            <h3>
              Practice Report
            </h3>
            <p id="send-message">
              <?php echo $message; ?>
            </p>
          </div>
          <form role="form" method="post" id="practiceForm">
            <p>
              Please fill out this form before every lesson. This will allow me to review how your week went before you arrive, so that we can maximize our time together.
            </p>
            <div class="form-group">
              <label for="singerName">Full name:</label><input type="text" class="form-control" id="singerName" name="singerName" />
              <label for="numberHoursPracticed">Number of hours practiced:</label><input type="text" class="form-control" id="numberHoursPracticed" name="numberHoursPracticed" />
              <label for="exercisesDone"> What exercises did you do to practice your singing technique this week?  Were you successful with these exercises?</label><textarea rows='3' class="form-control" name="exercisesDone"></textarea>
              <label for="repertoireDone">What repertoire did you work on in the past week?</label><textarea rows='3' class="form-control" name="repertoireDone"></textarea>
              <label for="repertoireScale">On the 1-4 scale, how learned are you with each piece of your repertoire? Remember:<br />
                <ol>
                  <li>Learning stage</li>
                  <li>Learned and working to memorize</li>
                  <li>memorized</li>
                  <li>Expression-filled masterpiece</li>
                </ol>
              </label><textarea rows='3' class="form-control" name="repertoireScale"></textarea>
              <label for="toWorkOn">What would you like to work on in your next lesson?  Think about specific things you are finding yourself struggling with.</label><textarea rows='3' class="form-control" name="toWorkOn"></textarea>
              <label for="openFeedback">Any concerns/problems?</label><textarea rows='3' class="form-control" name="openQuestion"></textarea>
            </div>
        <!--<label for="captchaDisplay">I know it's a pain, but please fill out this CAPTCHA form. It helps protect us from evil internet robots.</label>
            <?php
              //code to insert reCAPTCHA form at the end of the report
              require_once('recaptchalib.php');
              $publickey = "6LdcY_0SAAAAAItgUyVoZIDWpJRaYzHA2pTpFB1l";
              echo recaptcha_get_html($publickey);
            ?>
            <br />-->
            <button type="submit" name="submit" value="Send in your report" class="btn btn-primary" id="submitButton">Submit</button>
            <p id="buttonFeedback" class="send-message"></p>
          </form>
          <br />
        </div>
      </div>
    </div>
  </div>
</div>
<div class="fixed-side-social-container">
  <a class="social-icon facebook-icon" href="https://www.facebook.com/KalieMartinVoiceStudio" target="_blank" title="Like me on Facebook"></a>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 text-center" id="footer">
      <p class="text-muted">This site built by <a href="http://brandonpmartin.com" class="text-info">Brandon Martin</a> using Bootstrap â€” &#169;2014 Brandon Martin</p>
    </div>
  </div>
</div>
</body>
<!-- CDN of jQuery, load at end of page load -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<!-- Site-specific JS scripts -->
<script type="text/javascript" src="js/scripts.js"></script>
<script>

  function verifyInput() {
    if (!document.forms.practiceForm.singerName.value) {
      return false;
    } else if (!document.forms.practiceForm.numberHoursPracticed.value) {
      return false;
    } else if (!document.forms.practiceForm.exercisesDone.value) {
      return false;
    } else if (!document.forms.practiceForm.repertoireDone.value) {
      return false;
    } else if (!document.forms.practiceForm.repertoireScale.value) {
      return false;
    } else if (!document.forms.practiceForm.toWorkOn.value) {
      return false;
    } else if (!document.forms.practiceForm.openQuestion.value) {
      return false;
    } else {
      return true;
    }
  }

  $("#submitButton").click(function() {
    event.preventDefault();
    console.log("button clicked");
    $("#buttonFeedback").html("<img src='img/spinner.gif' />");

    var feedbackMessage = "";
    if (!verifyInput()) {
      feedbackMessage = "Please fill out the form completely before submitting. Just a few words on each question will work great.";
      $("#buttonFeedback").html(feedbackMessage);
      return false;
    }

    $.ajax({
      method: "POST",
      url: "new-students.php",
      data: {
        singerName: document.forms.practiceForm.singerName.value,
        numberHoursPracticed: document.forms.practiceForm.numberHoursPracticed.value,
        exercisesDone: document.forms.practiceForm.exercisesDone.value,
        repertoireDone: document.forms.practiceForm.repertoireDone.value,
        repertoireScale: document.forms.practiceForm.repertoireScale.value,
        toWorkOn: document.forms.practiceForm.toWorkOn.value,
        openQuestion: document.forms.practiceForm.openQuestion.value
      }
    })
      .done(function() {
        console.log("email sent");
        feedbackMessage = "The email sent successfully to me. See you at our lesson!";
      })
     .fail(function() {
        console.log("email failed");
        feedbackMessage = "Mail didn't send for some reason. Try again?";
      })
     .always(function(msg) {
        console.log("php responds: " + msg);
        $("#buttonFeedback").html(feedbackMessage);
      });
  });
</script>
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56556001-1', 'auto');
  ga('send', 'pageview');

</script>
</html>